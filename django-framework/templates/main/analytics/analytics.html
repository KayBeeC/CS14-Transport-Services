{% extends "main/analytics/base.html" %}
{% load static %}
{% block title %}

{% endblock %}


{% block contend %}

<script src="https://d3js.org/d3.v7.min.js"></script>
<link rel="stylesheet" href='{% static 'CSS/analytics/analytics.css' %}'>
<div id="div_travel_frequency">
    <h2>
        Travel Frequency
    </h2>
    <p>
        <ul></ul>
        <svg width='200' height='500'></svg>
    </p>

</div>
<div id="div_destination">
    <h2>
        Destination
    </h2>

    <p>
    </p>

</div>
<div>
    <h2>
        Vehicle Types
    </h2>
    <p></p>
</div>
<div>
    <h2>
        Average Fuel Usage
    </h2>
    <p></p>
</div>
<div>
    <h2>
        Average Miles Traveled
    </h2>
    <p></p>
</div>
    
{% endblock %}
{% block extra_js %}
    <script>



        var svg = d3.select('svg');

//Create rectangle element inside SVG
    svg.append('rect')
       .attr('x', 50)
       .attr('y', 50)
       .attr('width', 200)
       .attr('height', 100)
       .attr('fill', 'green');

//json data
    var received_data  = {{ data|safe }};
    var obj = JSON.parse(received_data);
    console.log(obj[1])

// d3 drawing
        d3.select('#div_travel_frequency').select('ul')
            .selectAll('li')
            .data(obj)
            .enter()
            .append('li')
            .text(function(d) { return d; });

    </script>
{% endblock %}